---
title: 中断、异常和系统调用比较
date: 2018-03-24 20:48:16
updated: 2018-03-24 20:48:16
tags:
  - 操作系统
categories: 
  - 操作系统
---

为什么操作系统需要中断、异常和系统调用：
- 在计算机运行时，内核是被信任的第三方
- 只有内核才可以执行特权指令
- 方便应用程序

<!-- more -->

# 概念
接下来我们先简单了解一下三者的概念
## 系统调用（system call）
应用程序主动向操作系统发出的服务请求

## 异常(exception)
非法指令或者其他原因导致当前指令执行失败(如：内存出错)后的处理请求

# 中断(hardware interrupt)
来自硬件设备的处理请求

# 比较
## 源头
- 中断：外设引起
- 异常：应用程序意想不到的部分
- 系统调用：应用程序请求操作系统提供服务

## 响应方式
- 中断：异步
- 异常：同步
- 系统调用：异步或同步

## 处理机制
- 中断：持续，对应用程序是透明的
- 异常：杀死或重新执行意想不到的程序执行
- 系统调用：等待和持续

# 中断处理机制
## 软件处理
首先进行现场保存（由编译器完成），然后进行中断服务处理（中断服务例程完成），接着清除中断标记（中断服务例程），最后进行现场恢复（编译器）。

## 硬件处理
依据内部或者外部事件设置中断标志，然后依据中断向量调用相应的中断服务例程。